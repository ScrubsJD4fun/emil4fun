(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{515:function(e,i,t){},569:function(e,i,t){"use strict";t.r(i);var n=t(0),s=t(509),a=t.n(s),c=t(514),r=(t(515),t(5));const l=[{id:"table-4",name:"\u0421\u0442\u043e\u043b \u043d\u0430 4 \u043c\u0435\u0441\u0442\u0430",type:"table",image:"/img/furniture/table-4.svg"},{id:"table-6",name:"\u0421\u0442\u043e\u043b \u043d\u0430 6 \u043c\u0435\u0441\u0442",type:"table",image:"/img/furniture/table-6.svg"},{id:"partition",name:"\u041f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430",type:"partition",image:"/img/furniture/partition.svg"},{id:"partition-vertical",name:"\u041f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430 \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f",type:"partition",image:"/img/furniture/partition-vertical.svg"}];var o=()=>{const[e,i]=Object(n.useState)([]),[t,s]=Object(n.useState)(null),o=Object(n.useRef)(null);return Object(r.jsxs)("div",{className:"room-planner",children:[Object(r.jsxs)("div",{className:"furniture-list",children:[Object(r.jsx)("h3",{children:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043c\u0435\u0431\u0435\u043b\u0438"}),Object(r.jsx)("div",{className:"furniture-items",children:l.map((t=>Object(r.jsxs)("div",{className:"furniture-item",onClick:()=>(t=>{const n={...t,uniqueId:`${t.id}-${Date.now()}`,position:{x:0,y:0}};i([...e,n])})(t),children:[Object(r.jsx)("img",{src:t.image,alt:t.name}),Object(r.jsx)("span",{children:t.name})]},t.id)))}),Object(r.jsxs)("div",{className:"planner-controls",children:[Object(r.jsx)("button",{onClick:()=>{const i={items:e.map((e=>{let{uniqueId:i,id:t,position:n}=e;return{uniqueId:i,id:t,position:n}}))},t=new Blob([JSON.stringify(i)],{type:"application/json"});Object(c.saveAs)(t,"room-layout.json")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"}),Object(r.jsx)("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result).items.map((e=>({...l.find((i=>i.id===e.id)),uniqueId:e.uniqueId,position:e.position})));i(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0444\u0430\u0439\u043b\u0430:",t)}},e.readAsText(t)}},style:{display:"none"},id:"import-file"}),Object(r.jsx)("label",{htmlFor:"import-file",className:"import-button",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"})]})]}),Object(r.jsx)("div",{className:"planning-board",ref:o,children:e.map((t=>Object(r.jsx)(a.a,{position:t.position,onDrag:(n,s)=>((t,n,s)=>{i(e.map((e=>e.uniqueId===t?{...e,position:{x:s.x,y:s.y}}:e)))})(t.uniqueId,0,s),bounds:"parent",children:Object(r.jsx)("div",{className:"placed-item",children:Object(r.jsx)("img",{src:t.image,alt:t.name})})},t.uniqueId)))})]})},d=t(565);i.default=()=>Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}),Object(r.jsx)(d.a,{children:Object(r.jsx)(o,{})})]})}}]);
//# sourceMappingURL=15.3174178c.chunk.js.map